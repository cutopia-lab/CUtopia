type Mutation {
  sendMessage(input: SendMessageInput!): SendMessageResult @auth @rateLimit(window: "1s", max: 5)
}

type Query {
  discussion(input: DiscussionFilter!): DiscussionResult! @auth
}

input SendMessageInput {
  courseId: String!
  text: String!
}

type SendMessageResult {
  id: Long!
}

input DiscussionFilter {
  courseId: String!
  page: Int
}

type DiscussionMessage {
  id: Long!
  text: String!
  user: String!
}

type DiscussionResult {
  messages: [DiscussionMessage]
  nextPage: Int
}

type Discussion {
  id: String!
  messages: [DiscussionMessage]
}
